<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Submit Drawing Ideas</title> 
   <link rel="icon" href="images/rowan favicon.png" type="image/png">
  <style>
    body {
      font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif, Medium;
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
    }

    textarea {
      width: 35%;
      height: 50px;
      resize: vertical;
    }

    input[type="text"] {
      width: 25%;
      margin-top: 10px;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      cursor: pointer;
    }

    /* Popup overlay styling */
    #popupOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    /* Popup box */
    #popupBox {
      background-color: white;
      color: black;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      text-align: center;
      max-width: 400px;
    }

    #popupButtons {
      margin-top: 15px;
    }

    #popupButtons button {
      margin: 0 10px;
      padding: 8px 16px;
    }
  </style>
</head>
<body style="background-color:rgb(98, 7, 134);"> 
  <div class="container"> 
    <img src="images/dude i just drew new logo horizontal.png"> 
    <h2 style="font-size: 3.0em; color:rgb(238, 255, 0); text-align: center; text-decoration:underline;">Idea Suggestion Form</h2> 
  </div>

  <p style="color:azure;">Welcome to the Dude I Just Drew Idea Suggestion Form! This is where you can submit drawing suggestions for us to draw! 
    These will be randomly picked from a hat where they will be read out loud and drawn on the show. They can be featured in our standard format (5 suggestions) or the story format (2 suggestions).
  <p style="color:azure;">What are the rules you might say? Hardly any! Use your imagination! That's the beauty of the show! It can be literally anything! There are just a few caveats however. 
    Please keep these mind, if your idea has any of the following, we will not consider including it.
  </p>
  <p style="color:azure;">For your idea to be considered, please make sure:</p>
    <p style="color:azure;">1. Your idea is safe for work and does not feature anything inappropriate for TV. No swear words, extreme violence/hatred, or anything pornographic.</p> 
<p style="color:azure;">  2. Your idea is not too long or has too many things in it. Keep it short and sweet, that way our drawers can focus on all the details!</p> 
<p style="color:azure;"> 3. Your idea doesn't include an IP that may seem unfamiliar to us. Our crew loves cartoons, anime, and many other shows. Some of us might recognize a character/place/thing from somewhere, 
    but a featured guest might not. If you want to include something from another IP, please make sure it's something everyone universally knows (e.g Star Wars, Marvel, Super Mario, etc.) </p>
<p style="color:azure;"> Aside from those, you can suggest anything you want! If you can think it, we can draw it! If you don't know what to suggest, some of our favorite suggestion types have been
    abstract and wacky ideas, especially OCs (Original Characters)!</p> 

<p style="color:azure;">Below is the form to fill out. You can submit up 3 ideas. If you want your name, username, nickname, or whichever read out loud with your suggestion during the show, you can include it in the optional name section below. 
    If you want to be anonymous, you can leave it blank.</p>

  <form id="ideaForm">
    <label style="color:azure;" for="idea">Your Drawing Suggestion (required):</label><br/>
    <textarea id="idea" name="idea" required></textarea><br/>

    <label style="color:azure;" for="name">Your Name (optional):</label><br/>
    <input type="text" id="name" name="name"><br/>

    <button type="submit">Submit</button>
  </form>

  <!-- Custom Popup Modal -->
  <div id="popupOverlay">
    <div id="popupBox">
      <p id="popupMessage"></p>
      <div id="popupButtons">
        <button id="confirmYes">Yes</button>
        <button id="confirmNo">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("ideaForm"); 
      const popupOverlay = document.getElementById("popupOverlay");
      const popupMessage = document.getElementById("popupMessage");
      const confirmYes = document.getElementById("confirmYes");
      const confirmNo = document.getElementById("confirmNo");

      const MAX_SUBMISSIONS = 3;
      const ONE_DAY_MS = 24 * 60 * 60 * 1000; 
 
      let userLog = JSON.parse(localStorage.getItem("submissionLog") || "[]");
      const now = Date.now(); 

      userLog = userLog.filter(ts => now - ts < ONE_DAY_MS);
      localStorage.setItem("submissionLog", JSON.stringify(userLog)); 

      if (userLog.length >= MAX_SUBMISSIONS) {
        disableForm();
      }

      function disableForm() {
        form.querySelector("textarea").disabled = true;
        form.querySelector("input").disabled = true;
        form.querySelector("button").disabled = true; 
      } 

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const idea = document.getElementById("idea").value.trim();
        const name = document.getElementById("name").value.trim() || "Anonymous"; 

        if (!idea) {
          // Use a more gentle visual prompt instead of alert
          popupMessage.textContent = "Please enter an idea before submitting.";
          confirmYes.style.display = "none";
          confirmNo.textContent = "OK";
          popupOverlay.style.display = "flex";

          confirmNo.onclick = () => {
            popupOverlay.style.display = "none";
            confirmYes.style.display = "";
            confirmNo.textContent = "Cancel";
          };
          return;
        }

        // Show confirmation popup
        popupMessage.textContent = `Are you sure you want to submit this idea?\n\n"${idea}"\n\nName: ${name}`;
        popupOverlay.style.display = "flex";

        // Handle Yes / No
        confirmYes.onclick = function () {
          popupOverlay.style.display = "none";

          const submission = {
            idea: idea,
            name: name,
            timestamp: Date.now()
          };

          const existing = JSON.parse(localStorage.getItem("submissions") || "[]");
          existing.push(submission);
          localStorage.setItem("submissions", JSON.stringify(existing));

          // Optional feedback popup after submission
          popupMessage.textContent = "Your idea has been submitted successfully!";
          confirmYes.style.display = "none";
          confirmNo.textContent = "Close";
          popupOverlay.style.display = "flex";

          confirmNo.onclick = () => {
            popupOverlay.style.display = "none";
            confirmYes.style.display = "";
            confirmNo.textContent = "Cancel";
            form.reset();
          };
        };

        confirmNo.onclick = function () {
          popupOverlay.style.display = "none";
        };
      });
    });
  </script>
</body>
</html>

